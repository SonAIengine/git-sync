검색엔진에 사전을 반영하는 방식에 대한 문제
기존 : settings에 6만건에 대한 단어를 direct로 적재 후 적용.
개선: 단어 사전을 txt로 변환 후, opensearch 컨테이너 config 폴더에 저장 후, settings에 파일 경로로 사전을 연동 하는 방식으로 수정해야 함.

## 1. **클러스터 상태 관리 & 버전업**

- **Settings inline**
    
    - `user_dictionary_rules`를 settings에 포함하면 인덱스 설정이 커스터마이즈되어 인덱스 생성 시 클러스터 상태(Cluster State)에 직접 반영됩니다. 즉, settings 변경 시 인덱스 재생성 또는 리로드가 필요하며 클러스터 재시작을 유발할 수 있습니다.
        
- **외부 파일 사용**
    
    - `user_dictionary`를 `$ES_HOME/config/userdict.txt`처럼 파일로 지정하는 경우, 클러스터 상태가 아닌 노드 파일 시스템에 의존합니다. 파일을 교체하면 (특히 Elastic Cloud나 ECK에서) 플러그인 패키지를 재배포하거나 ConfigMap/Secret을 업데이트하면 변경사항이 반영될 수 있어 유연합니다

## 2. **파일 크기 & 메모리 소비**

- **Settings inline**:
    
    - 60,000개 항목처럼 큰 규칙을 settings에 넣으면 클러스터 상태가 방대해지고, 이를 캐싱하려 JVM 힙이 크게 증가하며 GC 부하가 심해질 수 있습니다 .
        
- **외부 파일 사용**:
    
    - 파일 사이즈에 비례해 힙이 소비되지만(settings에 직접 넣었을 때보다) 상대적으로 config만 변하기 때문에 클러스터 상태 부하는 크지 않습니다. 특히 큰 txt는 파일 시스템 수준에서 관리되므로 클러스터 상태 용량을 차지하지 않습니다 .